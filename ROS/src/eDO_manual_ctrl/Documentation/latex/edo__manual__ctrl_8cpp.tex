\hypertarget{edo__manual__ctrl_8cpp}{}\section{src/edo\+\_\+manual\+\_\+ctrl.cpp File Reference}
\label{edo__manual__ctrl_8cpp}\index{src/edo\+\_\+manual\+\_\+ctrl.\+cpp@{src/edo\+\_\+manual\+\_\+ctrl.\+cpp}}


R\+OS node allows for e.\+DO to be controlled via Linux terminal. This file and the classes that it uses were created to eliminate the e.\+DO\textquotesingle{}s dependency on its Android tablet application and allow it to be controlled via Linux terminal. This node has all of the basic functionality provided by the Android application and can be helpful in understanding how the e.\+DO Robot can be controlled by any R\+OS compatible program.  


{\ttfamily \#include $<$ros/ros.\+h$>$}\\*
{\ttfamily \#include \char`\"{}Movement\+Command\+Queue.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Data\+Display.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}State\+Checker.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}edo\+\_\+core\+\_\+msgs/\+Movement\+Command.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}edo\+\_\+core\+\_\+msgs/\+Joint\+Calibration.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}edo\+\_\+core\+\_\+msgs/\+Joint\+Reset.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}edo\+\_\+core\+\_\+msgs/\+Joint\+Init.\+h\char`\"{}}\\*
{\ttfamily \#include $<$thread$>$}\\*
{\ttfamily \#include $<$chrono$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$fstream$>$}\\*
{\ttfamily \#include $<$queue$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$iomanip$>$}\\*
{\ttfamily \#include $<$ncurses.\+h$>$}\\*
Include dependency graph for edo\+\_\+manual\+\_\+ctrl.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{edo__manual__ctrl_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
edo\+\_\+core\+\_\+msgs\+::\+Movement\+Command \hyperlink{edo__manual__ctrl_8cpp_a68e76665a5785e5fc6e162ce2cbb1859}{create\+Jog} ()
\begin{DoxyCompactList}\small\item\em Function manages jog command creation. Fills in Jog type values and returns a message to be filled with velocity values on scale from -\/1.\+0 to 1.\+0. \end{DoxyCompactList}\item 
edo\+\_\+core\+\_\+msgs\+::\+Movement\+Command \hyperlink{edo__manual__ctrl_8cpp_acd156cff07b626411b28191b7211daf9}{create\+Move} (int type, int delay)
\begin{DoxyCompactList}\small\item\em Function manages creating a move command. \end{DoxyCompactList}\item 
void \hyperlink{edo__manual__ctrl_8cpp_a628f57bf70a1ca92894207854bfd7282}{jog\+Helper} (edo\+\_\+core\+\_\+msgs\+::\+Movement\+Command \&msg, int joint\+\_\+number, ros\+::\+Publisher \&jog\+\_\+ctrl\+\_\+pub, ros\+::\+Rate \&loop\+\_\+rate, double velocity)
\begin{DoxyCompactList}\small\item\em Function to carry out each button press jog command. \end{DoxyCompactList}\item 
void \hyperlink{edo__manual__ctrl_8cpp_a550924d3bc107a1283b9d1f7f6f3d5dc}{jog} (ros\+::\+Node\+Handle \&nh)
\begin{DoxyCompactList}\small\item\em Function manages sending jog commands using ncurses library for push-\/button key capturing. \end{DoxyCompactList}\item 
void \hyperlink{edo__manual__ctrl_8cpp_aeb5efde167e989d2fc5e283c5c0c4f3e}{move} (ros\+::\+Node\+Handle \&nh)
\begin{DoxyCompactList}\small\item\em Function handles move commands. \end{DoxyCompactList}\item 
void \hyperlink{edo__manual__ctrl_8cpp_accf22d2d7333e8d0d699ab35e396f311}{calibrate} (ros\+::\+Node\+Handle \&nh, bool recalib)
\begin{DoxyCompactList}\small\item\em Function handles initial callibration. \end{DoxyCompactList}\item 
void \hyperlink{edo__manual__ctrl_8cpp_aea3507ac31aa6c77bb48caf519d2e670}{get\+Data} (ros\+::\+Node\+Handle \&nh)
\begin{DoxyCompactList}\small\item\em Function creates \hyperlink{classDataDisplay}{Data\+Display} object and prints data at instant. \end{DoxyCompactList}\item 
bool \hyperlink{edo__manual__ctrl_8cpp_aee559ca4e72c40a902268b7511c7abc9}{initial\+Startup} (ros\+::\+Node\+Handle \&nh)
\begin{DoxyCompactList}\small\item\em Function to handle initial startup. \end{DoxyCompactList}\item 
int {\bfseries main} (int argc, char $\ast$$\ast$argv)\hypertarget{edo__manual__ctrl_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{}\label{edo__manual__ctrl_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
R\+OS node allows for e.\+DO to be controlled via Linux terminal. This file and the classes that it uses were created to eliminate the e.\+DO\textquotesingle{}s dependency on its Android tablet application and allow it to be controlled via Linux terminal. This node has all of the basic functionality provided by the Android application and can be helpful in understanding how the e.\+DO Robot can be controlled by any R\+OS compatible program. 

\begin{DoxyAuthor}{Author}
Jack Shelata 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
May 28, 2018 
\end{DoxyDate}


\subsection{Function Documentation}
\index{edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}!calibrate@{calibrate}}
\index{calibrate@{calibrate}!edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}}
\subsubsection[{\texorpdfstring{calibrate(ros\+::\+Node\+Handle \&nh, bool recalib)}{calibrate(ros::NodeHandle &nh, bool recalib)}}]{\setlength{\rightskip}{0pt plus 5cm}void calibrate (
\begin{DoxyParamCaption}
\item[{ros\+::\+Node\+Handle \&}]{nh, }
\item[{bool}]{recalib}
\end{DoxyParamCaption}
)}\hypertarget{edo__manual__ctrl_8cpp_accf22d2d7333e8d0d699ab35e396f311}{}\label{edo__manual__ctrl_8cpp_accf22d2d7333e8d0d699ab35e396f311}


Function handles initial callibration. 


\begin{DoxyParams}{Parameters}
{\em nh} & -\/ R\+OS Node\+Handle for creating Publishers for initializaiton, reset, and calibration \\
\hline
{\em recalib} & -\/ bool is true if the e.\+DO has aleady been calibrated and is being recalibrated so that initialization and reset are not repeated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}


Definition at line 390 of file edo\+\_\+manual\+\_\+ctrl.\+cpp.

\index{edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}!create\+Jog@{create\+Jog}}
\index{create\+Jog@{create\+Jog}!edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}}
\subsubsection[{\texorpdfstring{create\+Jog()}{createJog()}}]{\setlength{\rightskip}{0pt plus 5cm}edo\+\_\+core\+\_\+msgs\+::\+Movement\+Command create\+Jog (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{edo__manual__ctrl_8cpp_a68e76665a5785e5fc6e162ce2cbb1859}{}\label{edo__manual__ctrl_8cpp_a68e76665a5785e5fc6e162ce2cbb1859}


Function manages jog command creation. Fills in Jog type values and returns a message to be filled with velocity values on scale from -\/1.\+0 to 1.\+0. 


\begin{DoxyParams}{Parameters}
{\em None} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Movement\+Command -\/ Message defined in edo\+\_\+core\+\_\+msgs R\+OS package 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}


Definition at line 46 of file edo\+\_\+manual\+\_\+ctrl.\+cpp.

\index{edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}!create\+Move@{create\+Move}}
\index{create\+Move@{create\+Move}!edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}}
\subsubsection[{\texorpdfstring{create\+Move(int type, int delay)}{createMove(int type, int delay)}}]{\setlength{\rightskip}{0pt plus 5cm}edo\+\_\+core\+\_\+msgs\+::\+Movement\+Command create\+Move (
\begin{DoxyParamCaption}
\item[{int}]{type, }
\item[{int}]{delay}
\end{DoxyParamCaption}
)}\hypertarget{edo__manual__ctrl_8cpp_acd156cff07b626411b28191b7211daf9}{}\label{edo__manual__ctrl_8cpp_acd156cff07b626411b28191b7211daf9}


Function manages creating a move command. 


\begin{DoxyParams}{Parameters}
{\em type} & -\/ int type of movement according to e.\+DO move types defined in edo\+\_\+core\+\_\+pkg \\
\hline
{\em delay} & -\/ int delay in seconds between arriving at waypoint and moving again \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Movement\+Command -\/ Message defined in edo\+\_\+core\+\_\+msgs R\+OS package 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}


Definition at line 66 of file edo\+\_\+manual\+\_\+ctrl.\+cpp.

\index{edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}!get\+Data@{get\+Data}}
\index{get\+Data@{get\+Data}!edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}}
\subsubsection[{\texorpdfstring{get\+Data(ros\+::\+Node\+Handle \&nh)}{getData(ros::NodeHandle &nh)}}]{\setlength{\rightskip}{0pt plus 5cm}void get\+Data (
\begin{DoxyParamCaption}
\item[{ros\+::\+Node\+Handle \&}]{nh}
\end{DoxyParamCaption}
)}\hypertarget{edo__manual__ctrl_8cpp_aea3507ac31aa6c77bb48caf519d2e670}{}\label{edo__manual__ctrl_8cpp_aea3507ac31aa6c77bb48caf519d2e670}


Function creates \hyperlink{classDataDisplay}{Data\+Display} object and prints data at instant. 


\begin{DoxyParams}{Parameters}
{\em nh} & -\/ R\+OS Node\+Handle to pass to \hyperlink{classDataDisplay}{Data\+Display} class constructor for R\+OS Subscriber creation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}


Definition at line 480 of file edo\+\_\+manual\+\_\+ctrl.\+cpp.

\index{edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}!initial\+Startup@{initial\+Startup}}
\index{initial\+Startup@{initial\+Startup}!edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}}
\subsubsection[{\texorpdfstring{initial\+Startup(ros\+::\+Node\+Handle \&nh)}{initialStartup(ros::NodeHandle &nh)}}]{\setlength{\rightskip}{0pt plus 5cm}bool initial\+Startup (
\begin{DoxyParamCaption}
\item[{ros\+::\+Node\+Handle \&}]{nh}
\end{DoxyParamCaption}
)}\hypertarget{edo__manual__ctrl_8cpp_aee559ca4e72c40a902268b7511c7abc9}{}\label{edo__manual__ctrl_8cpp_aee559ca4e72c40a902268b7511c7abc9}


Function to handle initial startup. 


\begin{DoxyParams}{Parameters}
{\em nh} & -\/ R\+OS Node\+Handle to pass to Initial\+Startup class constructor for R\+OS Subscriber creation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}


Definition at line 497 of file edo\+\_\+manual\+\_\+ctrl.\+cpp.

\index{edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}!jog@{jog}}
\index{jog@{jog}!edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}}
\subsubsection[{\texorpdfstring{jog(ros\+::\+Node\+Handle \&nh)}{jog(ros::NodeHandle &nh)}}]{\setlength{\rightskip}{0pt plus 5cm}void jog (
\begin{DoxyParamCaption}
\item[{ros\+::\+Node\+Handle \&}]{nh}
\end{DoxyParamCaption}
)}\hypertarget{edo__manual__ctrl_8cpp_a550924d3bc107a1283b9d1f7f6f3d5dc}{}\label{edo__manual__ctrl_8cpp_a550924d3bc107a1283b9d1f7f6f3d5dc}


Function manages sending jog commands using ncurses library for push-\/button key capturing. 


\begin{DoxyParams}{Parameters}
{\em nh} & -\/ R\+OS Node\+Hangle for creating jog publisher \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}


Definition at line 151 of file edo\+\_\+manual\+\_\+ctrl.\+cpp.

\index{edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}!jog\+Helper@{jog\+Helper}}
\index{jog\+Helper@{jog\+Helper}!edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}}
\subsubsection[{\texorpdfstring{jog\+Helper(edo\+\_\+core\+\_\+msgs\+::\+Movement\+Command \&msg, int joint\+\_\+number, ros\+::\+Publisher \&jog\+\_\+ctrl\+\_\+pub, ros\+::\+Rate \&loop\+\_\+rate, double velocity)}{jogHelper(edo_core_msgs::MovementCommand &msg, int joint_number, ros::Publisher &jog_ctrl_pub, ros::Rate &loop_rate, double velocity)}}]{\setlength{\rightskip}{0pt plus 5cm}void jog\+Helper (
\begin{DoxyParamCaption}
\item[{edo\+\_\+core\+\_\+msgs\+::\+Movement\+Command \&}]{msg, }
\item[{int}]{joint\+\_\+number, }
\item[{ros\+::\+Publisher \&}]{jog\+\_\+ctrl\+\_\+pub, }
\item[{ros\+::\+Rate \&}]{loop\+\_\+rate, }
\item[{double}]{velocity}
\end{DoxyParamCaption}
)}\hypertarget{edo__manual__ctrl_8cpp_a628f57bf70a1ca92894207854bfd7282}{}\label{edo__manual__ctrl_8cpp_a628f57bf70a1ca92894207854bfd7282}


Function to carry out each button press jog command. 


\begin{DoxyParams}{Parameters}
{\em msg} & -\/ existing Movement\+Command to be edited and sent \\
\hline
{\em joint\+\_\+number} & -\/ int number of the joint to be moved (1-\/6) \\
\hline
{\em jog\+\_\+ctrl\+\_\+pub} & -\/ R\+OS Publisher to publish the jog message \char`\"{}/bridge\+\_\+jog\char`\"{} R\+OS topic \\
\hline
{\em loop\+\_\+rate} & -\/ R\+OS Rate message for set sleep time \\
\hline
{\em velocity} & -\/ double velocity value for jog \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}


Definition at line 127 of file edo\+\_\+manual\+\_\+ctrl.\+cpp.

\index{edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}!move@{move}}
\index{move@{move}!edo\+\_\+manual\+\_\+ctrl.\+cpp@{edo\+\_\+manual\+\_\+ctrl.\+cpp}}
\subsubsection[{\texorpdfstring{move(ros\+::\+Node\+Handle \&nh)}{move(ros::NodeHandle &nh)}}]{\setlength{\rightskip}{0pt plus 5cm}void move (
\begin{DoxyParamCaption}
\item[{ros\+::\+Node\+Handle \&}]{nh}
\end{DoxyParamCaption}
)}\hypertarget{edo__manual__ctrl_8cpp_aeb5efde167e989d2fc5e283c5c0c4f3e}{}\label{edo__manual__ctrl_8cpp_aeb5efde167e989d2fc5e283c5c0c4f3e}


Function handles move commands. 


\begin{DoxyParams}{Parameters}
{\em nh} & -\/ R\+OS Node\+Hangle for creating move publisher \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em None} & \\
\hline
\end{DoxyExceptions}


Definition at line 290 of file edo\+\_\+manual\+\_\+ctrl.\+cpp.

